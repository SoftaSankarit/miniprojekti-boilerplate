{% extends "layout.html" %}

{% block title %}
Viitesovellus
{% endblock %}

{% block body %}

{% if is_edit: %}


<div class="form-container">
  <form method="POST" action='/edit_entry/book/{{ book.id }}' id="editForm">

    <div class="form-group">
      <label for="author">Tekij채t:</label>
      <input type="text" id="author" name="author" value="{{ book.author }}" required>
    </div>

    <div class="form-group">
      <label for="title">Teoksen nimi:</label>
      <input type="text" id="title" name="title" value="{{ book.title }}" required>
    </div>

    <div class="form-group">
      <label for="publisher">Kustantaja:</label>
      <input type="text" id="publisher" name="publisher" value="{{ book.publisher }}" required>
    </div>

    <div class="form-group">
      <label for="year">Julkaisuvuosi:</label>
      <input type="number" id="year" name="year" value="{{ book.year }}" required>
    </div>

    <button type="submit">Tallenna muutokset</button>

  </form>
</div>


{% else %}

<div class="form-container">
    <form method="POST" action="create_book" id="bookForm">
    {% with messages = get_flashed_messages() %}
      {% if messages %}
      <ul>
        {% for message in messages %}
          <li>{{ message }}</li>
        {% endfor %}
      </ul>
      {% endif %}
    {% endwith %}
  
      <div class="form-group">
        <label for="author">Tekij채t:</label>
        <input type="text" id="author" name="author" required>
      </div>
  
      <div class="form-group">
        <label for="title">Teoksen nimi:</label>
        <input type="text" id="title" name="title" required>
      </div>
  
      <div class="form-group">
        <label for="publisher">Kustantaja:</label>
        <input type="text" id="publisher" name="publisher" required>
      </div>
  
      <div class="form-group">
        <label for="year">Julkaisuvuosi:</label>
        <input type="number" id="year" name="year" required>
      </div>
  
      <button type="submit">Lis채채</button>
  
    </form>
  </div>
{% endif %}
<br></b>
<p><button><a href="/" style="color:aliceblue">Lista kirjoista</a></button></p>

{% endblock %}